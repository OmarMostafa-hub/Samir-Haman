<!doctype html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</title>
  <style>
    body { font-family: system-ui, sans-serif; padding: 24px; max-width: 600px; margin: auto; background: #f9f9f9; }
    h1 { text-align: center; margin-bottom: 24px; }
    .card { background: #fff; border-radius: 16px; padding: 20px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); margin-bottom: 20px; }
    .row { margin: 12px 0; }
    input { width: 100%; padding: 10px; margin: 6px 0; border-radius: 8px; border: 1px solid #ccc; }
    button { padding: 10px 14px; border: none; border-radius: 8px; cursor: pointer; font-weight: bold; }
    .google-btn { background: #fff; border: 1px solid #ccc; }
    .fb-btn { background: #1877f2; color: #fff; }
    .email-btn { background: #4caf50; color: #fff; width: 100%; }
    .hidden { display: none; }
    #user { text-align: center; }
    img.avatar { width: 60px; height: 60px; border-radius: 50%; margin: 10px auto; display: block; }
  </style>

  <!-- Ù…ÙƒØªØ¨Ø© Google -->
  <script src="https://accounts.google.com/gsi/client" async defer></script>
  <!-- Ù…ÙƒØªØ¨Ø© ÙÙŠØ³Ø¨ÙˆÙƒ -->
  <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>

  <script>
    // ========== GOOGLE ==========
    function handleGoogle(response) {
      const data = JSON.parse(atob(response.credential.split('.')[1]));
      showUser(data.name, data.email, data.picture);
    }

    function initGoogle() {
      google.accounts.id.initialize({
        client_id: "YOUR_GOOGLE_CLIENT_ID.apps.googleusercontent.com",
        callback: handleGoogle
      });
      google.accounts.id.renderButton(
        document.getElementById("gbtn"),
        { theme: "outline", size: "large", shape: "pill", text: "signin_with" }
      );
    }

    // ========== FACEBOOK ==========
    window.fbAsyncInit = function() {
      FB.init({
        appId      : 'YOUR_FB_APP_ID',
        cookie     : true,
        xfbml      : true,
        version    : 'v19.0'
      });
    };

    function fbLogin() {
      FB.login(function(response) {
        if (response.authResponse) {
          FB.api('/me', {fields: 'name,email,picture'}, function(profile) {
            showUser(profile.name, profile.email, profile.picture.data.url);
          });
        }
      }, {scope: 'public_profile,email'});
    }

    // ========== EMAIL ==========
    function emailLogin() {
      const email = document.getElementById("email").value;
      const pass = document.getElementById("pass").value;
      if(email && pass){
        showUser(email.split('@')[0], email, "https://via.placeholder.com/60");
      } else {
        alert("Ù…Ù† ÙØ¶Ù„Ùƒ Ø§ÙƒØªØ¨ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„ ÙˆÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±");
      }
    }

    // ========== Ø¹Ø±Ø¶ Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… ==========
    function showUser(name, email, pic){
      document.getElementById("login").classList.add("hidden");
      document.getElementById("user").classList.remove("hidden");
      document.getElementById("uname").textContent = name;
      document.getElementById("uemail").textContent = email;
      document.getElementById("uimg").src = pic;
    }

    function signOut() {
      document.getElementById("login").classList.remove("hidden");
      document.getElementById("user").classList.add("hidden");
    }

    window.onload = initGoogle;
  </script>
</head>
<body>
  <h1>ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„</h1>

  <!-- Ø´Ø§Ø´Ø© ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <div id="login" class="card">
    <h3>Ø§Ø®ØªØ± Ø·Ø±ÙŠÙ‚Ø© Ø§Ù„Ø¯Ø®ÙˆÙ„:</h3>
    <div id="gbtn" class="row"></div>
    <div class="row"><button class="fb-btn" onclick="fbLogin()">ğŸ”µ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨ÙÙŠØ³Ø¨ÙˆÙƒ</button></div>
    <hr>
    <div class="row">
      <input type="email" id="email" placeholder="Ø§ÙƒØªØ¨ Ø§Ù„Ø¥ÙŠÙ…ÙŠÙ„">
      <input type="password" id="pass" placeholder="ÙƒÙ„Ù…Ø© Ø§Ù„Ù…Ø±ÙˆØ±">
      <button class="email-btn" onclick="emailLogin()">ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„ Ø¨Ø§Ù„Ø¨Ø±ÙŠØ¯</button>
    </div>
  </div>

  <!-- Ø¨ÙŠØ§Ù†Ø§Øª Ø§Ù„Ù…Ø³ØªØ®Ø¯Ù… Ø¨Ø¹Ø¯ Ø§Ù„Ø¯Ø®ÙˆÙ„ -->
  <div id="user" class="card hidden">
    <img id="uimg" class="avatar" alt="User Avatar">
    <h2 id="uname"></h2>
    <p id="uemail"></p>
    <button onclick="signOut()">ğŸ”™ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø®Ø±ÙˆØ¬</button>
  </div>
</body>
</html>
